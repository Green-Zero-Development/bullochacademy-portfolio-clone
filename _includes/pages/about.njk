{% include "global/top-hero-section.njk" %}

<style>
    .image-section-img-{{ wpage.imageSection.image.id }} {
        background-image: url({{ wpage.imageSection.image.url }});
        border-radius: 6px;
    }
</style>
<div class="flex flex-wrap items-start lg:items-center max-w-8xl mx-auto pt-16 pb-16 px-2 sm:px-6 md:px-12">
    <div class="w-full md:w-7/12 bg-cover bg-center w-full md:w-1/2 py-40 md:py-32 lg:py-56 mb-12 md:mb-0 image-section-img-{{ wpage.imageSection.image.id }}" aria-label="{{ wpage.imageSection.image.alt }}">

    </div>
    <div class="w-full md:w-5/12 md:pl-8 lg:pl-16">
        <h2 class="pb-3 leading-none">{{ wpage.imageSection.title }}</h2>
        <p>{{ wpage.imageSection.paragraph }}</p>
        <a {% if wpage.imageSection.button.link_to_where == "A page on this site" %}href='{{ wpage.imageSection.button.link }}'{% elseif wpage.imageSection.button.link_to_where == "Another site" %}href='{{ wpage.imageSection.button.link_offsite }}' target='_blank'{% endif %} class="text-center {% if loop.last !== true %}mr-12{% endif %}">
            <button class="mt-3 arrow-button">{{ wpage.imageSection.button.text }}</button>
        </a>
    </div>
</div>

<style>
    .reverse-image-section-img-{{ wpage.reverseImageSection.image.id }} {
        background-image: url({{ wpage.reverseImageSection.image.url }});
        border-radius: 6px;
    }
</style>
<div class="flex flex-wrap items-start lg:items-center flex-col-reverse md:flex-row max-w-8xl mx-auto pt-16 pb-16 px-2 sm:px-6 md:px-12">
    <div class="w-full md:w-5/12 md:pr-8 lg:pr-16">
        <h2 class="pb-3 leading-none">{{ wpage.reverseImageSection.title }}</h2>
        <p>{{ wpage.reverseImageSection.paragraph }}</p>
        <a {% if wpage.reverseImageSection.button.link_to_where == "A page on this site" %}href='{{ wpage.reverseImageSection.button.link }}'{% elseif wpage.reverseImageSection.button.link_to_where == "Another site" %}href='{{ wpage.reverseImageSection.button.link_offsite }}' target='_blank'{% endif %} class="text-center {% if loop.last !== true %}mr-12{% endif %}">
            <button class="mt-3 arrow-button">{{ wpage.reverseImageSection.button.text }}</button>
        </a>
    </div>
    <div class="w-full md:w-7/12 bg-cover bg-center w-full md:w-1/2 py-40 md:py-32 lg:py-56 mb-12 md:mb-0 reverse-image-section-img-{{ wpage.reverseImageSection.image.id }}" aria-label="{{ wpage.reverseImageSection.image.alt }}">

    </div>
</div>

<style>
    .gator-cta-text-bk {
        background-image: url('https://inside.bullochacademy.com/wp-content/uploads/2021/09/gator-text-1.png');
    }
</style>

<div class="relative bg-gold-50 gator-cta">
    <div class="w-full h-full bg-cover xxxl:bg-contain bg-center bg-no-repeat py-20 px-2 sm:px-6 md:px-10 lg:px-16 gator-cta-text-bk">
        <div class="">
            <div class="text-center px-6">
                <h2 class="text-3xl lg:text-h2-init pb-2 leading-none">{{ wpage.gatorTextSection.title }}</h2>
                <p class="max-w-3xl text-base lg:text-p-init mx-auto pb-6">{{ wpage.gatorTextSection.paragraph }}</p>
                <a {% if wpage.gatorTextSection.button.link_to_where == "A page on this site" %}href='{{ wpage.gatorTextSection.button.link }}'{% elseif wpage.gatorTextSection.button.link_to_where == "Another site" %}href='{{ wpage.gatorTextSection.button.link_offsite }}' target='_blank'{% endif %}>
                    <button class="green-button">{{ wpage.gatorTextSection.button.text }}</button>
                </a>
            </div>
        </div>
    </div>
</div>

<style>
    .faculty-bio-box {
        opacity: 0;
        border-radius: 6px;
        z-index: -1;
        transition: .25s;
    }
    .active-faculty-bio-box {
        opacity: 1;
        z-index: 50;
        transition: .25s;
    }
</style>

<div class="max-w-8xl mx-auto py-24 px-2 sm:px-6 md:px-12">
    <div class="flex flex-wrap justify-between items-center w-full max-w-8xl mx-auto pb-6 px-4 lg:px-12">
        <h2 class="w-full sm:w-1/2 pb-6 sm:pb-0 leading-none">Faculty & Staff</h2>
        <select id="faculty-select" class="w-full sm:w-auto m-0">
            <option value="Admin">Admin</option>
            <option value="Upper School">Upper School</option>
            <option value="Middle School">Middle School</option>
            <option value="Lower School">Lower School</option>
            <option value="Steam">Steam</option>
            <option value="Athletics">Athletics</option>
            <option value="Staff">Staff</option>
        </select>
        
    </div>
    <div id="faculty-list" class="flex flex-wrap max-w-8xl mx-auto faculty-list">
        {% for item in faculty | sort(false, false, 'name') %}
        {% if item.disabled !== 'Yes' %}
                <style>
                    .faculty-headshot-{{ item.id }} {
                        {% if item.headshotImg %}
                        background-image: url('{{ item.headshotImg }}');
                        {% else %}
                        background-image: url('https://inside.bullochacademy.com/wp-content/uploads/2021/10/DefaultImage.png');
                        {% endif %}
                    }
                </style>
                <div id="faculty-square-container-{{ item.id }}" class="{% if item.department == "Admin" %}{% else %}hidden{% endif %} w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 cursor-pointer faculty-square-container" status="closed">
                    <div id="faculty-type" class="hidden">{{ item.department }}</div>
                    <div class="relative bg-cover bg-center py-56 sm:py-40 pointer-events-none faculty-square faculty-headshot-{{ item.id }}">
                        <div class="absolute bottom-0 text-white pb-6 px-6 pointer-events-none">
                            <h5 class="">{{ item.name }}</h5>
                            <p class="xs-p">{{ item.jobTitle }}</p>
                        </div>
                        <div class="absolute top-0 w-full h-full bg-gold-50 p-4 faculty-bio-box">
                            <h6 class="">{{ item.name }}</h6>
                            <p class="pb-2">{{ item.jobTitle }}</p>
                            <p class="pb-6">{{ item.bio | truncate(400, true, "...") }}</p>
                            <a href="mailto:{{ item.email }}" class="sm-p font-bold">
                                {{ item.email }}
                            </a>
                        </div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>
</div>

<script>
let facultySquares = document.querySelectorAll('.faculty-square-container');
for (var i = 0; i < facultySquares.length; i++) {
    facultySquares[i].addEventListener("click", function(e){
        for (var i2 = 0; i2 < facultySquares.length; i2++) {
            facultySquares[i2].setAttribute('status', 'closed');
        }
        if (e.target.classList.contains('active-faculty-square')) {
            e.target.setAttribute('status', 'closed');
            e.target.classList.remove('active-faculty-square');
            e.target.querySelector('.faculty-bio-box').classList.remove('active-faculty-bio-box');
        }
        else if (e.target.getAttribute('status') == 'closed') {
            for (var i3 = 0; i3 < facultySquares.length; i3++) {
                facultySquares[i3].classList.remove('active-faculty-square');
                facultySquares[i3].querySelector('.faculty-bio-box').classList.remove('active-faculty-bio-box');
            }
            e.target.setAttribute('status', 'open');
            e.target.classList.add('active-faculty-square');
            e.target.querySelector('.faculty-bio-box').classList.add('active-faculty-bio-box');
        }
    });
}

let facultySelect = document.getElementById('faculty-select');
facultySelect.addEventListener("change", function(e) {
    for (var i = 0; i < facultySquares.length; i++) {
        facultySquares[i].classList.add('hidden');
    }
    {% for item in faculty %}
        {% if item.disabled !== 'Yes' %}
            var facultyToActive{{ item.id }} = document.getElementById('faculty-square-container-{{ item.id }}');
            console.log(facultySelect.value);
            if (facultySelect.value == facultyToActive{{ item.id }}.querySelector('#faculty-type').innerText) {
                facultyToActive{{ item.id }}.classList.remove('hidden');
            }
        {% endif %}
    {% endfor %}
});
</script>

<div class="bg-green-500 py-12 text-center sm:text-left">
    <div class="flex flex-wrap lg:items-center max-w-8xl mx-auto px-2 sm:px-6 md:px-10 lg:px-12">
        <div class="w-full sm:w-2/3 lg:w-7/12 pb-8 sm:pb-0">
            <h3 class="text-gold-400 pb-3">{{ wpage.greenCta.title }}</h3>
            <p class="sm-p text-white">{{ wpage.greenCta.paragraph }}</p>
        </div>
        <div class="w-full sm:w-1/3 lg:w-5/12 text-center sm:text-right">
            <a {% if wpage.greenCta.button.link_to_where == "A page on this site" %}href='{{ wpage.greenCta.button.link }}'{% elseif wpage.greenCta.button.link_to_where == "Another site" %}href='{{ wpage.greenCta.button.link_offsite }}' target='_blank'{% endif %}>
                <button class="outline-white-button">{{ wpage.greenCta.button.text }}</button>
            </a>
        </div>
    </div>
</div>

<div class="flex flex-wrap py-24">
    {% for item in boardOfTrustees %}
        {% if item.disabled !== 'Yes' %}
            <div class="w-full text-center">
                <h4 class="text-3xl">Board of Trustees</h4>
                <h6 class="text-base text-green-200">{{ item.title }}</h6>
            </div>
            <div class="flex flex-wrap w-full max-w-8xl mx-auto pt-8 px-12">
                <div class="flex w-full sm:w-1/2 md:w-1/3 xl:w-1/4 mx-auto pb-8 text-center xl:text-left">
                    <div class="xl:w-8 border-t-2 border-gold-500 mt-3"></div>
                    <div class="w-full xl:w-auto xl:ml-6">
                        <h5 class="text-green-200 ">Chairman</h5>
                        <h6 class="text-2xl py-2">{{ item.members.chairman }}</h6>
                    </div>
                </div>
                <div class="flex w-full sm:w-1/2 md:w-1/3 xl:w-1/4 mx-auto pb-8 text-center xl:text-left">
                    <div class="xl:w-8 border-t-2 border-gold-500 mt-3"></div>
                    <div class="w-full xl:w-auto xl:ml-6">
                        <h5 class="text-green-200 ">Vice Chairman</h5>
                        <h6 class="text-2xl py-2">{{ item.members.vice_chairman }}</h6>
                    </div>
                </div>
                <div class="flex w-full sm:w-1/2 md:w-1/3 xl:w-1/4 mx-auto pb-8 text-center xl:text-left">
                    <div class="xl:w-8 border-t-2 border-gold-500 mt-3"></div>
                    <div class="w-full xl:w-auto xl:ml-6">
                        <h5 class="text-green-200 ">Treasurer</h5>
                        <h6 class="text-2xl py-2">{{ item.members.treasurer }}</h6>
                    </div>
                </div>
                <div class="flex w-full sm:w-1/2 md:w-1/3 xl:w-1/4 mx-auto pb-8 text-center xl:text-left">
                    <div class="xl:w-8 border-t-2 border-gold-500 mt-3"></div>
                    <div class="w-full xl:w-auto xl:ml-6">
                        <h5 class="text-green-200 ">Secretary</h5>
                        <h6 class="text-2xl py-2">{{ item.members.secretary }}</h6>
                    </div>
                </div>
            </div>
            <div class="flex max-w-8xl w-full mx-auto mx-auto pb-8 px-12 text-center xl:text-left">
                <div class="xl:w-8 border-t-2 border-gold-500 mt-3"></div>
                <div class="w-full xl:w-11/12 mx-auto xl:mx-0 xl:ml-6">
                    <h5 class="text-green-200 ">Members-At-Large</h5>
                    <h6 class="max-w-3xl xl:max-w-8xl text-2xl mx-auto xl:mx-0 py-2 leading-normal">{% for item2 in item.members.members_at_large %}{{ item2.name }}, {% endfor %}</h6>
                </div>
            </div>
        {% endif %}
    {% endfor %}
</div>